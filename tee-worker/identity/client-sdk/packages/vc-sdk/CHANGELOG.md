# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Changed

-   Use `@litentry/parachain-api@0.9.20-03.next.0` and `@litentry/sidechain-api@0.9.20-03.next.0`

## [3.3.0] - 2024-08-26

### Changed

-   Use `@litentry/parachain-api@0.9.19-7`

## [3.2.0] - 2024-08-06

-   Use `@litentry/parachain-api@0.9.18-11.2`

## [3.1.0] - 2024-07-22

### Changed

-   `validator`: Use RPC call to retrieve blockHashes.

## [3.0.0] - 2024-07-22

### Removed

-   Drop `parseVc`. Parsing a VC is now up to clients.

## [2.0.2] - 2024-07-19

-   Use `@litentry/parachain-api@0.9.18-11` and `@litentry/sidechain-api@0.9.18-11` stable versions.

## [2.0.1] - 2024-07-17

### Added

-   Extend `PlatformUserSubject` to support `DarenMarket` and variations of `MagicKraft` and `KaratDao` for better backward compatibility.

## [2.0.0] - 2024-07-15

-   Migrate to `@litentry/parachain-api` and `@litentry/sidechain-api`.
-   Distribute as ES Module
-   Targets [parachain-release v0.9.18-10](https://github.com/litentry/litentry-parachain/releases/tag/v0.9.18-10)

## Changed

-   Migrate to `@litentry/parachain-api` and `@litentry/sidechain-api` por chain types. Deprecates `@litentry/chain-types`.
-   This library is now distributed as an ESModule

## Fixed

-   `Active Discord ID-Hubber`: Update its `type` name.
-   `EVM/Substrate Transaction Count`: add `SubstrateTestnet` to the list of supported networks.

## Removed

-   Drop `@litentry/chain-types` from dependencies.

## [1.5.0] - 2024-06-27

### Changed

-   `validateVc`: rely on `vc.proof.verificationMethod` to get the VC's pubKey.
-   `validateVc`: for new VCs where `vc.issuer.id` is an enclave account, query the specific enclave used at the time of issuing the VC for validation.

## [1.4.1] - 2024-06-27

### Changed

-   `TokenHoldingAmount` credential subject: optional `$network` and `$address`.

## [1.4.0] - 2024-06-03

### Changed

-   Upgrade `@polkadot/api*`, `@polkadot/rpc*`, `@polkadot/types*` to 10.9.1, and `@polkadot/util*` to `12.5.1`

### Removed

-   Drop unused `@polkadot/keyring` dependency.

## [1.3.3] - 2024-06-03

### Fixed

-   Add `MagicCraft` to the Credential Subject `PlatformUserSubject` type.

## [1.3.2] - 2024-05-29

### Added

-   Add `BEAN` to `BaseTokenHolderIITokenEnum` supported tokens.

## [1.3.1] - 2024-05-28

### Fixed

-   Deps: split `devDependencies` and move `@litentry/enclave` as `peerDependency`.

## [1.3.0] - 2024-05-27

### Added

-   Broad `BaseTokenHolderIITokenEnum` token support with: `ETH`, `USDC`, `ADA`, `DOGE`, `SHIB`, `UNI`, `BCH`, `ETC`, `ATOM`, `DAI`, `LEO`, `FIL`, `IMX`, `CRO`, `INJ`.

## [1.2.0] - 2024-05-08

### Fixed

-   `BaseTokenAmountHolding` now support all the token names from the `TokenHoldingAmount` assertion.

### Changed

-   The encoding of `address` clauses' is no longer validated.

## [1.1.1] - 2024-04-22

### Added

-   Add further tests coverage for the feature released on 1.1.0

## [1.1.0] - 2024-04-22

### Added

-   Allow verifying Litentry VCs that were generated by Enclave running on `tee-dev` on this date. MREnclave: `0x585e6d8623b0f63706174025625adb163503863fe6f7cc9459df65cbc2097943`.

## [1.0.1] - 2024-04-18

## Fixed

-   Restore a fix that mistakenly removed. The fix was a bug that was preventing legacy VC with `issuer.id` in base58 format to fail at validating.

## [1.0.0] - 2024-04-02

### Changed

-   The Litentry's VC Registry was dropped. VCs' hash is no longer stored on-chain. VC Verification continues unaltered.
-   Enclave's queries were migrated from `teerex` to `teebag` to match latest Litentry's runtime versions.

### Added

-   Credential parser: support the new `assertionText`, `parachainBlockNumber`, and `sidechainBlockNumber` schema fields.
-   New Credential Subjects: `WeirdoGhostGangHolder`, `TokenAmountHolder`, `Brc20TokenHolder`, `LitStakingAmountSubject`, `NFTHolderSubject`, `CryptoSummarySubject`, `VIP3CardHolderSubject`, `KaratDaoPlatformUserSubject`, `BaseNftHoldingSubject`

### Removed

-   `result.vcRegistry` property was removed from the return value of `validateVc`.

## [0.2.5] - 2023-11-27

### Added

-   New Credential's assertions support: `GenericDiscordRole`, `BnbDomainHolding`, `BnbDigitDomainClub`.
-   New Credential Subjects: `GenericDiscordRole`, `SpaceID10KClubMember`, `SpaceID999ClubMember`, `SpaceIDDomainHoldingAmount`.

### Fixed

-   Fix parsing issue `EVMVersionEarlyBird` assertions when value is false
-   Fix validation logic for VC with `SoraQuiz` assertions

### Changed

-   `validateVc` early return if signature verifying fails.

## [0.2.4]

Deprecated. Please upgrade to @latest.

## [0.2.3] - 2023-11-14

### Fixed

-   OneBlock+ VC type update

## [0.2.2] - 2023-11-09

### Added

-   Readme: Link to client-sdk-examples repository

### Removed

-   Docs: Exclude `examples` folder from the build output

## [0.2.1] - 2023-11-09

### Fixed

-   Fix the README's example of `validateVc`.
-   Other documentation fixes and improvements

### Added

-   Support SORA Quiz credential definitions' subject
-   Include examples and docs folder in the build output

## [0.1.1] - 2023-10-25

### Added

-   This changelog
-   Validate VCs against previously registered Litentry Enclave versions and not only the current one.

### Fixed

-   Fix bundle type definitions in the published package
-   Fix type error in one of the README's examples

## [0.1.0] - 2023-10-10

### Added

-   parseVc method
-   validateVc method
